<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>rust-buck3t-ui docs</title>
  <link rel="stylesheet" href="css/style.css"> 
</head>
<body>

  <nav id="sidebar">
    <a onclick="loadPage('pages/home.html')">Home</a>
    <a onclick="loadPage('pages/install-rust.html')">Installing Rust</a>
  </nav>

    
  <div id="docs">
    <h1>rust-buck3t</h1>


    <section id="features">
      <h2>Feature Showcase</h2>
      <div class="carousel" data-autoplay="true" data-interval="3500" aria-label="Feature screenshots">
        <button class="nav prev" aria-label="Previous slide">‹</button>

        <div class="viewport">
          <div class="track">

            <article class="slide feature">
              <div class="frame">
                <img src="static/auth.gif" alt="Auth">
              </div>
              <p>Login/Sign Up</p>
            </article>


            <article class="slide feature">
              <div class="frame">
                <img src="static/bulk uploads.gif" alt="Bulk Uploads">
              </div>
              <p>Bulk Uploads</p>
            </article>

            <article class="slide feature">
              <div class="frame">
                <img src="static/change_style.gif" alt="Change Style">
              </div>
              <p>Change Style</p>
            </article>

            <article class="slide feature">
              <div class="frame">
                <img src="static/delete.gif" alt="Delete Objects">
              </div>
              <p>Delete Objects</p>
            </article>

            <article class="slide feature">
              <div class="frame">
                <img src="static/view data.gif" alt="View/Download Data">
              </div>
              <p>View/Download Data</p>
            </article>
          </div>
        </div>

        <button class="nav next" aria-label="Next slide">›</button>
        <div class="dots" aria-label="Slide navigation"></div>
      </div>

    </section>



    <div id="content">
      <!-- default load -->
      <p>Loading...</p>
    </div>
  </div>

<script>
  function loadPage(path) {
    fetch(path)
      .then(resp => resp.text())
      .then(html => {
        document.getElementById("content").innerHTML = html;

        // --- FEATURE TOGGLE ---
        const feature = document.querySelector(".feature:nth-child(2)");
        if (feature) {
          feature.classList.add("anim");
          if (path.includes("install-rust")) {
            feature.classList.add("move-left");
          } else {
            feature.classList.remove("move-left");
          }
          feature.addEventListener("transitionend", () => {
            feature.classList.remove("anim");
          }, { once: true });
        }

        // --- NAV ACTIVE STATE ---
        document.querySelectorAll("#sidebar a").forEach(link => {
          link.classList.remove("active");
          if (link.getAttribute("onclick").includes(path)) {
            link.classList.add("active");
          }
        });
      })
      .catch(err => {
        document.getElementById("content").innerHTML = "<p>Error loading page.</p>";
        console.error(err);
      });
  }

  // load Home by default *and* highlight Home link
  window.addEventListener("DOMContentLoaded", () => {
    loadPage("pages/home.html");
  });
</script>
<script>
(function initCarousel() {
  const root = document.querySelector('.carousel');
  if (!root) return;

  const track = root.querySelector('.track');
  const slides = Array.from(root.querySelectorAll('.slide'));
  const prev = root.querySelector('.prev');
  const next = root.querySelector('.next');
  const dotsWrap = root.querySelector('.dots');

  if (slides.length === 0) return;

  // build dots
  slides.forEach((_, i) => {
    const b = document.createElement('button');
    b.type = 'button';
    b.setAttribute('aria-label', `Go to slide ${i+1}`);
    b.addEventListener('click', () => go(i));
    dotsWrap.appendChild(b);
  });

  let index = 0;
  let autoTimer = null;
  const autoplay = root.dataset.autoplay === "true";
  const interval = Number(root.dataset.interval || 3500);

  function go(i) {
    index = (i + slides.length) % slides.length;
    track.style.transform = `translateX(-${index * 100}%)`;
    updateDots();
  }

  function updateDots() {
    dotsWrap.querySelectorAll('button').forEach((b, i) => {
      b.setAttribute('aria-current', String(i === index));
    });
  }

  function startAuto() {
    if (!autoplay || autoTimer) return;
    autoTimer = setInterval(() => go(index + 1), interval);
  }
  function stopAuto() {
    if (autoTimer) { clearInterval(autoTimer); autoTimer = null; }
  }

  // events
  prev.addEventListener('click', () => { stopAuto(); go(index - 1); startAuto(); });
  next.addEventListener('click', () => { stopAuto(); go(index + 1); startAuto(); });

  root.addEventListener('mouseenter', stopAuto);
  root.addEventListener('mouseleave', startAuto);
  document.addEventListener('visibilitychange', () => {
    if (document.hidden) stopAuto(); else startAuto();
  });

  // keyboard
  root.tabIndex = 0;
  root.addEventListener('keydown', (e) => {
    if (e.key === 'ArrowRight') { e.preventDefault(); next.click(); }
    if (e.key === 'ArrowLeft')  { e.preventDefault(); prev.click(); }
  });

  // responsive: keep current slide on resize
  window.addEventListener('resize', () => go(index));

  // init
  go(0);
  startAuto();
})();
</script>


</body>
</html>
